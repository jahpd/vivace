// Generated by CoffeeScript 1.4.0
(function() {
  var loadAudioFile;

  loadAudioFile = function(voicename, audioFilesDir, node) {
    var request, url, voice;
    if (audioFilesDir == null) {
      audioFilesDir = '../audios/';
    }
    request = new XMLHttpRequest();
    url = audioFilesDir + window.Vivace.voices[voiceName].sig;
    request.open('GET', url, true);
    request.responseType = 'arraybuffer';
    voice = window.Vivace.voices[voiceName];
    voice.audionodes = {
      buffer: null
    };
    request.onload = function() {
      return context.decodeAudioData(request.response, function(buffer) {
        return voice.audionodes.buffer = buffer;
      });
    };
    request.onerror = function() {
      return console.log('error while loading audio file from ' + url);
    };
    return request.send;
  };

  window.Vivace.loadAudioFile = loadAudioFile;

}).call(this);
